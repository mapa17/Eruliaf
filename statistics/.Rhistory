library(ggplot2)
#Name data
#<Tick> <peer Type> <Total # of max TFT Slots> <Total # of max OU Slots> <Total # of used TFT Slots> <Total # of used OU Slots> <# of peers>
colnames(data)[1] <- "tick"
colnames(data)[2] <- "type"
colnames(data)[3] <- "maxTFT"
colnames(data)[4] <- "maxOU"
colnames(data)[5] <- "TFT"
colnames(data)[6] <- "OU"
colnames(data)[7] <- "nPeers"
#Calculate averages ( be ware, depends on nPeers to never be zero!)
data$avgTFT  <- data$TFT / data$nPeers
data$avgOU  <- data$OU / data$nPeers
data$avgMaxTFT  <- data$maxTFT / data$nPeer
data$avgMaxOU  <- data$maxOU / data$nPeers
tft = ggplot(data, aes(x=tick) ) + geom_line(aes(y=avgTFT, colour=type) ) + xlab("Ticks") + ylab("TFT Slots") + opts(title="Average number of TFT Slots") + scale_color_manual( name="Peers", breaks=c("Peer", "Peer_C1"), labels=c("BT","BT_ext") , values=c("red", "blue") )
ou = ggplot(data, aes(x=tick) ) + geom_line(aes(y=avgOU, colour=type) ) + xlab("Ticks") + ylab("OU Slots") + opts(title="Average number of OU Slots") + scale_color_manual( name="Peers", breaks=c("Peer", "Peer_C1"), labels=c("BT","BT_ext") , values=c("red", "blue") )
multiplot(tft, ou, cols=1)
#Save image to disk
ggsave(file="Conn.png" , dpi=100)
ls()
rm(list = ls(all = TRUE))
ls()
q()
